C51 COMPILER V9.59.0.0   LED                                                               02/11/2023 14:59:19 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN .\Objects\led.obj
COMPILER INVOKED BY: D:\MDK5\C51\BIN\C51.EXE led.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\led.lst)
                    - TABS(2) OBJECT(.\Objects\led.obj)

line level    source

   1          #include "led.h"//led灯函数头文件
   2          #include "delay.h"//延时函数头文件
   3          
   4          
   5          //LED灯初始化函数（设置锁存器为跟随输出）
   6          void LED_Init(void)
   7          {
   8   1      //C     B      A
   9   1        P27=1;P26=0;P25=0;//控制或非门Y4C输出高电平
  10   1        
  11   1        P0M1=0x00;P0M0=0x00;//设置P0组GPIO模式为准双向口（传统51GPIO模式）
  12   1      }
  13          
  14          //点亮指定一个LED灯函数
  15          //例如：LED_One(3);  只有L3点亮
  16          //例如：LED_One(0);  L1~L8全熄灭
  17          void LED_One(u8 Lx)
  18          {
  19   1        switch(Lx)
  20   1        {
  21   2          case 0: P0=0xff;break;//LED灯全熄灭
  22   2          case 1: P0=0xfe;break;
  23   2          case 2: P0=0xfd;break;
  24   2          case 3: P0=0xfb;break;
  25   2          case 4: P0=0xf7;break;
  26   2          case 5: P0=0xef;break;
  27   2          case 6: P0=0xdf;break;
  28   2          case 7: P0=0xbf;break;
  29   2          case 8: P0=0x7f;break;
  30   2        }
  31   1      }
  32          
  33          //led流水灯函数
  34          void LED_LSD1(u16 ms)//从左到右流水
  35          {
  36   1        u8 i;
  37   1        for(i=1;i<9;i++)
  38   1        {
  39   2          LED_One(i);
  40   2          Delay_ms(ms);
  41   2        }
  42   1      }
  43          
  44          void LED_LSD2(u16 ms)//从右到左流水
  45          {
  46   1        u8 i;
  47   1        for(i=8;i>0;i--)
  48   1        {
  49   2          LED_One(i);
  50   2          Delay_ms(ms);
  51   2        }
  52   1      }
  53          
  54          //花样流水函数
C51 COMPILER V9.59.0.0   LED                                                               02/11/2023 14:59:19 PAGE 2   

  55          void LED_HY(void)
  56          {
  57   1        u16 ms,i;
  58   1        
  59   1        ms=50;//设置快闪速度
  60   1        P0=0x00;Delay_ms(ms);P0=0xff;Delay_ms(ms);//LED快闪
  61   1        P0=0x00;Delay_ms(ms);P0=0xff;Delay_ms(ms);
  62   1        P0=0x00;Delay_ms(ms);P0=0xff;Delay_ms(ms);
  63   1        P0=0x00;Delay_ms(ms);P0=0xff;Delay_ms(ms);
  64   1        P0=0x00;Delay_ms(ms);P0=0xff;Delay_ms(ms);
  65   1        
  66   1        ms=300;//设置流水时间
  67   1        LED_LSD1(ms);//LED左右流水
  68   1        LED_LSD2(ms);
  69   1        
  70   1        
  71   1        
  72   1        //呼吸灯程序（没有写完）
  73   1      //  ms=100;
  74   1      //  for(i;i<100;i++) //LED呼吸灯
  75   1      //  {
  76   1      //    P0=0x00;
  77   1      //    Delay_ms(ms);//亮
  78   1      //    P0=0xff;
  79   1      //    Delay_ms(20-ms);//暗
  80   1      //    ms--;
  81   1      //  }   
  82   1      //  
  83   1      //  for(i;i<100;i++) //LED呼吸灯
  84   1      //  {
  85   1      //    P0=0x00;
  86   1      //    Delay_ms(20-ms);//亮
  87   1      //    P0=0xff;
  88   1      //    Delay_ms(ms);//暗
  89   1      //    ms--;
  90   1      //  } 
  91   1        
  92   1        
  93   1        
  94   1        
  95   1        
  96   1        
  97   1      
  98   1      }
*** WARNING C280 IN LINE 57 OF led.c: 'i': unreferenced local variable


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    284    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
