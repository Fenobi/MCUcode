C51 COMPILER V9.60.0.0   SMG                                                               03/21/2023 14:28:47 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SMG
OBJECT MODULE PLACED IN .\Objects\smg.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE smg.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\smg.l
                    -st) OBJECT(.\Objects\smg.obj)

line level    source

   1          #include "smg.h"
   2          
   3          unsigned char Display_Digital[12]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0x7f,0xbf};
   4          unsigned char Display_WEI[9]={0,1,2,4,8,16,32,64,128};
   5          
   6          void Delay1ms()         //@12.000MHz
   7          {
   8   1              unsigned char i, j;
   9   1      
  10   1              i = 12;
  11   1              j = 169;
  12   1              do
  13   1              {
  14   2                      while (--j);
  15   2              } while (--i);
  16   1      }
  17          
  18          
  19          void HC138(u8 num)
  20          {
  21   1              switch(num)
  22   1              {
  23   2                      case 0:LA=0;LB=0;LC=0;break;
  24   2                      case 1:LA=0;LB=0;LC=1;break;
  25   2                      case 2:LA=0;LB=1;LC=0;break;
  26   2                      case 3:LA=0;LB=1;LC=1;break;
  27   2                      case 4:LA=1;LB=0;LC=0;break;
  28   2                      case 5:LA=1;LB=0;LC=1;break;
  29   2                      case 6:LA=1;LB=1;LC=0;break;
  30   2                      case 7:LA=1;LB=1;LC=1;break;
  31   2              }
  32   1      }
  33          
  34          void smg_wei(u8 wei)
  35          {
  36   1              P0=Display_WEI[wei];
  37   1      }
  38          
  39          void smg_wei_num(u8 wei,u8 num)
  40          {
  41   1              HC138(6);
  42   1              smg_wei(wei);
  43   1              HC138(7);
  44   1              P0=Display_Digital[num];
  45   1              Delay1ms();
  46   1              Delay1ms();
  47   1      }
  48          
  49          void Display_2_2Wei_XS(u8 wei,float num)
  50          {
  51   1              num=num*100;//将小数扩大100倍
  52   1              smg_wei_num(wei, num/1000);//显示千位
  53   1              smg_wei_num(wei+1, (int)num%1000/100);//显示百位
  54   1              smg_wei_num(wei+2, (int)num%100/10);//显示十位
C51 COMPILER V9.60.0.0   SMG                                                               03/21/2023 14:28:47 PAGE 2   

  55   1              smg_wei_num(wei+3, (int)num%10);//显示个位
  56   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    287    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     21       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
