C51 COMPILER V9.60.0.0   SMG                                                               03/21/2023 18:50:01 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SMG
OBJECT MODULE PLACED IN .\Objects\smg.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE smg.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\smg.l
                    -st) OBJECT(.\Objects\smg.obj)

line level    source

   1          #include "smg.h"
   2          
   3          u8 SMG_DISPLAY_WEI[9]={0,1,2,4,8,16,32,64,128};
   4          u8 SMG_DISPLAY_NUM[13] = {0xc0, 0xf9, 0xa4, 0xb0, 0x99, 0x92, 0x82, 0xf8, 0x80, 0x90, 0x7f, 0xbf, 0xc6};
   5          
   6          void HC138(u8 num)
   7          {
   8   1              switch(num)
   9   1              {
  10   2                      case 0:LA=0;LB=0;LC=0;break;
  11   2                      case 1:LA=1;LB=0;LC=0;break;
  12   2                      case 2:LA=0;LB=1;LC=0;break;
  13   2                      case 3:LA=1;LB=1;LC=0;break;
  14   2                      case 4:LA=0;LB=0;LC=1;break;
  15   2                      case 5:LA=1;LB=0;LC=1;break;
  16   2                      case 6:LA=0;LB=1;LC=1;break;
  17   2                      case 7:LA=1;LB=1;LC=1;break;
  18   2              }
  19   1      }
  20          
  21          void smg_display_wei(u8 wei)
  22          {
  23   1              P0=SMG_DISPLAY_WEI[wei];
  24   1      }
  25          
  26          void smg_dispaly_num(u8 num)
  27          {
  28   1              P0=SMG_DISPLAY_NUM[num];
  29   1      }
  30          
  31          void smg_dispaly_fore_num(u16 num)
  32          {
  33   1              if(num>=0&&num<100)
  34   1              {
  35   2                      HC138(6);
  36   2                      smg_display_wei(5);
  37   2                      HC138(7);
  38   2                      smg_dispaly_num(0);
  39   2                      Delay_ms(2);
  40   2                      
  41   2                      HC138(6);
  42   2                      smg_display_wei(6);
  43   2                      HC138(7);
  44   2                      smg_dispaly_num(0);
  45   2                      Delay_ms(2);
  46   2                      
  47   2                      HC138(6);
  48   2                      smg_display_wei(7);
  49   2                      HC138(7);
  50   2                      smg_dispaly_num(num/10);
  51   2                      Delay_ms(2);
  52   2                      
  53   2                      HC138(6);
  54   2                      smg_display_wei(8);
C51 COMPILER V9.60.0.0   SMG                                                               03/21/2023 18:50:01 PAGE 2   

  55   2                      HC138(7);
  56   2                      smg_dispaly_num(num%10);
  57   2                      Delay_ms(2);
  58   2              }
  59   1              else if(num>=100&&num<1000)
  60   1              {
  61   2                      HC138(6);
  62   2                      smg_display_wei(5);
  63   2                      HC138(7);
  64   2                      smg_dispaly_num(0);
  65   2                      Delay_ms(2);
  66   2                      
  67   2                      HC138(6);
  68   2                      smg_display_wei(6);
  69   2                      HC138(7);
  70   2                      smg_dispaly_num(num/100);
  71   2                      Delay_ms(2);
  72   2                      
  73   2                      HC138(6);
  74   2                      smg_display_wei(7);
  75   2                      HC138(7);
  76   2                      smg_dispaly_num(num/10%10);
  77   2                      Delay_ms(2);
  78   2                      
  79   2                      HC138(6);
  80   2                      smg_display_wei(8);
  81   2                      HC138(7);
  82   2                      smg_dispaly_num(num%10);
  83   2                      Delay_ms(2);
  84   2              }
  85   1              else if(num>=1000)
  86   1              {
  87   2                      HC138(6);
  88   2                      smg_display_wei(5);
  89   2                      HC138(7);
  90   2                      smg_dispaly_num(num/1000);
  91   2                      Delay_ms(2);
  92   2                      
  93   2                      HC138(6);
  94   2                      smg_display_wei(6);
  95   2                      HC138(7);
  96   2                      smg_dispaly_num(num/100%10);
  97   2                      Delay_ms(2);
  98   2                      
  99   2                      HC138(6);
 100   2                      smg_display_wei(7);
 101   2                      HC138(7);
 102   2                      smg_dispaly_num(num/10%10);
 103   2                      Delay_ms(2);
 104   2                      
 105   2                      HC138(6);
 106   2                      smg_display_wei(8);
 107   2                      HC138(7);
 108   2                      smg_dispaly_num(num%10);
 109   2                      Delay_ms(2);
 110   2              }
 111   1              else
 112   1              {
 113   2                      ;
 114   2              }
 115   1              
 116   1              
C51 COMPILER V9.60.0.0   SMG                                                               03/21/2023 18:50:01 PAGE 3   

 117   1              
 118   1      }
 119          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    433    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     22       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
