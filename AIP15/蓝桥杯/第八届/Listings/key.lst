C51 COMPILER V9.60.0.0   KEY                                                               03/18/2023 15:19:24 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE KEY
OBJECT MODULE PLACED IN .\Objects\key.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE App\key\key.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\App\ds18b20;.\App\ds1302
                    -;.\App\EEPROM;.\App\iic;.\App\key;.\App\smg;.\Public;.\App\BEED_JDQ) DEBUG OBJECTEXTEND PRINT(.\Listings\key.lst) OBJECT
                    -(.\Objects\key.obj)

line level    source

   1          /*
   2           * @Author: Fenobi 13667739122@qq.com
   3           * @Date: 2023-03-17 17:17:12
   4           * @LastEditors: Fenobi 13667739122@qq.com
   5           * @LastEditTime: 2023-03-17 17:25:11
   6           * @FilePath: \第八届\App\key\key.c
   7           */
   8          #include "key.h"
   9          
  10          u8 key_scan(u8 mode)
  11          {
  12   1              static u8 key = 1;
  13   1      
  14   1              if (mode)
  15   1                      key = 1;                                                                                                                // 连续扫描按键
  16   1              if (key == 1 && (KEY1 == 0 || KEY2 == 0 || KEY3 == 0 || KEY4 == 0)) // 任意按键按下
  17   1              {
  18   2                      delay_10us(1000); // 消抖
  19   2                      key = 0;
  20   2                      if (KEY1 == 0)
  21   2                              return KEY1_PRESS;
  22   2                      else if (KEY2 == 0)
  23   2                              return KEY2_PRESS;
  24   2                      else if (KEY3 == 0)
  25   2                              return KEY3_PRESS;
  26   2                      else if (KEY4 == 0)
  27   2                              return KEY4_PRESS;
  28   2              }
  29   1              else if (KEY1 == 1 && KEY2 == 1 && KEY3 == 1 && KEY4 == 1) // 无按键按下
  30   1              {
  31   2                      key = 1;
  32   2              }
  33   1              return KEY_UNPRESS;
  34   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     76    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
